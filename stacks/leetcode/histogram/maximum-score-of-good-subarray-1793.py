inputs = [
    ([1, 4, 3, 7, 4, 5], 3),
    ([5, 5, 4, 5, 4, 1, 1, 1], 0),
    ([105, 6312, 3772, 4850, 1589, 9163, 119, 6541, 3981, 5138, 8289, 4271, 9336, 8694, 6041, 5864, 5411, 1830, 9557,
      6648, 9789, 7802, 4964, 4492, 2132, 4354, 4071, 590, 1417, 3638, 6470, 6017, 8680, 3135, 1101, 4348, 2865, 1114,
      7166, 122, 4802, 6819, 5871, 9779, 6311, 1422, 2998, 7492, 2342, 5608, 8805, 1787, 9136, 7674, 6090, 988, 4652,
      6613, 1601, 4095, 1620, 1568, 346, 7353, 1474, 3280, 9841, 2673, 3278, 7197, 6924, 3605, 3381, 9592, 8383, 3395,
      1435, 4219, 2098, 6557, 2811, 1728, 3077, 3182, 1533, 2428, 9620, 5325, 292, 3111, 8253, 1052, 3522, 175, 7092,
      1330, 6078, 1259, 5029, 9956, 1513, 926, 4994, 4638, 3558, 2729, 4573, 6467, 7268, 2431, 5909, 4120, 9391, 4415,
      1975, 3035, 9455, 6640, 9019, 5984, 527, 486, 6043, 7363, 611, 444, 7240, 8201, 4020, 11, 6933, 7053, 103, 6206,
      1053, 1564, 3632, 7191, 8040, 7960, 1706, 7688, 8358, 9938, 9758, 1652, 1744, 8157, 8080, 7831, 9228, 1364, 8745,
      1253, 8518, 3550, 3221, 8760, 2017, 867, 7623, 8925, 9177, 611, 5712, 1340, 5343, 2067, 3202, 1839, 107, 9942,
      1248, 728, 3495, 9111, 9336, 6162, 5578, 4834, 713, 9211, 4382, 2932, 3220, 438, 457, 1797, 2968, 2116, 8940,
      4206, 447, 720, 9469, 6903, 1653, 3885, 3328, 9107, 2001, 4729, 7785, 3810, 9752, 5372, 5413, 4228, 9853, 2859,
      298, 5819, 7738, 3634, 2043, 6033, 5363, 2623, 5005, 1959, 5642, 476, 8019, 250, 6942, 3233, 8533, 4201, 1226,
      350, 3828, 2738, 1516, 8306, 7857, 33, 6563, 4255, 9125, 5069, 5338, 439, 7971, 5259, 9277, 5590, 6489, 2001,
      8526, 8622, 4406, 6388, 6536, 5955, 5013, 5592, 4660, 8824, 1202, 6173, 6291, 2166, 3953, 327, 5496, 124, 8956,
      5610, 6808, 6270, 1184, 9560, 813, 6656, 2931, 2913, 9177, 1603, 4089, 4121, 9901, 1880, 2296, 4990, 4898, 2069,
      320, 7522, 3023, 6674, 9626, 9164, 4152, 7433, 3902, 7665, 2196, 3709, 8946, 6494, 2364, 8320, 1916, 3740, 2817,
      173, 6433, 3385, 5566, 9593, 3067, 7825, 2571, 1855, 3320, 9712, 4568, 3347, 5470, 9993, 5605, 4385, 2551, 7197,
      5476, 964, 5916, 5126, 1064, 8253, 6279, 162, 3586, 1331, 9628, 206, 9929, 7217, 9322, 1618, 8412, 799, 4189,
      4739, 5137, 286, 2217, 1672, 4439, 4099, 2159, 5386, 3573, 9555, 2208, 57, 118, 776, 646, 3912, 2666, 583, 7257,
      6820, 6030, 1414, 8195, 6221, 1362, 485, 8683, 2053, 8588, 86, 5455, 6597, 3196, 1737, 6423, 8822, 4460, 6239,
      2739, 1029, 6600, 8174, 7372, 6934, 9101, 8489, 7401, 9021, 747, 6624, 5082, 1246, 8732, 9627, 3477, 6672, 5014,
      7256, 1534, 6041, 9999, 6952, 4602, 2396, 3517, 92, 9780, 7592, 5433, 5857, 6735, 7419, 1272, 5892, 7521, 5600,
      2532, 7374, 1914, 858, 9790, 4575, 4104, 1845, 1895, 7852, 7911, 2213, 77, 1050, 8493, 4014, 5600, 950, 6702,
      3780, 8116, 1340, 9713, 64, 4540, 7000, 1274, 6384, 4981, 1243, 9961, 7067, 7578, 5409, 1567, 3582, 2541, 3285,
      5003, 9669, 7836, 3113, 2808, 8055, 553, 8235, 9020, 7948, 2021, 3593, 9089, 7852, 8669, 8550, 1923, 6692, 2381,
      9245, 6908, 585, 3988, 3960, 8925, 641, 9822, 7104, 1413, 8889, 9503, 146, 6775, 4396, 4121, 8463, 5980, 7821,
      2904, 9203, 2165, 2980, 3696, 2399, 885, 5207, 6276, 7921, 3244, 2350, 2645, 3482, 4121, 2867, 8795, 6801, 1630,
      8540, 423, 3264, 8036, 5613, 8122, 2273, 7270, 4977, 6689, 3784, 5023, 5323, 7261, 5718, 1164, 7352, 4892, 4636,
      222, 2448, 9100, 7876, 740, 612, 8197, 8481, 8546, 5765, 6688, 9397, 7929, 5318, 4462, 4073, 9321, 3178, 3669,
      2030, 342, 254, 4252, 8423, 1619, 1619, 7254, 6493, 6049, 6670, 2725, 5874, 868, 2080, 8664, 2379, 2468, 2297,
      3347, 9090, 1309, 3050, 4699, 8847, 6073, 8847, 7368, 5737, 270, 6113, 7635, 158, 6130, 9093, 9659, 2165, 7224,
      5612, 5633, 8967, 4201, 5769, 4571, 3502, 6976, 923, 9150, 4517, 9478, 6055, 5916, 2484, 3185, 2009, 6188, 7893,
      3557, 3141, 5767, 1355, 5452, 779, 7086, 217, 1174, 38, 738, 2816, 9128, 3225, 8948, 6423, 2298, 8506, 4789, 2097,
      696, 8556, 397, 2807, 5713, 1743, 8107, 8285, 6717, 9915, 6305, 8708, 9145, 9475, 2205, 9293, 6954, 7271, 9242,
      2539, 9742, 714, 670, 2245, 5038, 9567, 8185, 1455, 1590, 6665, 1207, 1774, 568, 8372, 9233, 7636, 9894, 981,
      9103, 6354, 2350, 4471, 8444, 7783, 1489, 5799, 4235, 1112, 122, 3286, 3861, 6673, 4484, 9576, 4823, 2481, 6976,
      4481, 2644, 4119, 3754, 4834, 3957, 6908, 4674, 6863, 6925, 8177, 5410, 2502, 1197, 1679, 8932, 8664, 6475, 4895,
      7865, 9886, 8230, 647, 4824, 1753, 591, 6854, 9544, 6518, 6087, 711, 9960, 3379, 8838, 1295, 7289, 3209, 1588,
      4948, 316, 7192, 926, 2749, 4518, 7197, 8211, 6531, 5149, 6510, 2821, 4157, 2747, 7206, 4033, 991, 1355, 2837,
      4106, 3505, 9901, 873, 149, 6052, 9844, 7705, 2922, 469, 1183, 5844, 1506, 1796, 1533, 4073, 2004, 3021, 4640,
      370, 8664, 5516, 4154, 3998, 8886, 1452, 6090, 1657, 5787, 1903, 6353, 1350, 9135, 1286, 7032, 9783, 2613, 3879,
      7012, 200, 7027, 7568, 8385, 5853, 7003, 4193, 5230, 9845, 9524, 8407, 8052, 8989, 7972, 3446, 974, 2959, 64,
      3543, 3695, 9976, 1710, 987, 3421, 8007, 3860, 406, 8902, 5128, 2104, 8573, 1271, 730, 9213, 3764, 2386, 840,
      9503, 6992, 1240, 6222, 8569, 7346, 7292, 4474, 5852, 1793, 7, 80, 4779, 8067, 7354, 5548, 7743, 8303, 3077, 4874,
      2575, 9828, 1853, 6488, 2776, 7241, 8302, 9834, 8415, 2270, 1053, 7259, 5453, 9399, 5544, 8431, 422, 8356, 2084,
      1443, 4412, 8699, 9715, 46, 115, 3, 7046, 5466, 7685, 4307, 5417, 8346, 2843, 4920, 3740, 9553, 2224, 8693, 2675,
      67, 8669, 5600, 8183, 3284, 8716, 944, 2426, 5578, 866, 8010, 4085, 1880, 6009, 3016, 6339, 2317, 4955, 7968,
      9122, 5273, 3446, 4180, 196, 5804, 1127, 119, 748, 9271, 4540, 8952, 9002, 8643, 1961], 427),
    ([529, 7655, 4113, 7929, 7745, 6149, 2691, 435, 7858, 978, 5467, 8761, 2881, 4175, 359, 9711, 7157, 1740,
      5214, 7660,
      1113, 614, 4077, 2859, 2954, 1170, 3997, 4526, 2771, 4046, 3174, 7126, 3866, 7603, 5596, 9587, 1826, 9228,
      9983,
      2487, 7018, 1130, 1299, 1389, 5914, 2926, 5679, 5781, 5770, 8705, 9053, 3449, 9893, 6042, 4349, 2008, 2959,
      9730,
      5639, 8813, 5206, 747, 460, 149, 2553, 4006, 2012, 8966, 2245, 2635, 9089, 7962, 5879, 9785, 1069, 7122,
      7926,
      9546, 4557, 5719, 6926, 2353, 1887, 2744, 2240, 472, 7559, 824, 4320, 8267, 7210, 4764, 8368, 3071, 8973,
      7849,
      8704, 2375, 5130, 5092, 8311, 6147, 7692, 6794, 8280, 4863, 4932, 4863, 946, 4243, 7307, 5061, 3752, 426,
      6352,
      1978, 818, 5604, 3306, 9034, 9805, 7900, 8462, 4473, 1914, 8449, 113, 8566, 7671, 9518, 693, 730, 8064,
      2004, 9584,
      8725, 4392, 468, 3013, 502, 6472, 4185, 6380, 471, 4258, 3424, 8435, 7470, 5109, 7228, 486, 8925, 3130,
      1574, 4454,
      9048, 5824, 679, 5364, 3804, 5143, 6714, 5695, 2806, 7653, 9153, 26, 3195, 2856, 4303, 6914, 270, 9011,
      3325, 7835,
      1770, 8668, 3395, 1756, 6702, 743, 2618, 6841, 7492, 6068, 9150, 8852, 5004, 9610, 6716, 7053, 4937, 6209,
      2772,
      4454, 3988, 432, 8097, 9400, 3194, 5565, 6266, 2821, 4769, 5019, 164, 443, 8620, 695, 8173, 7705, 5081,
      1376, 6573,
      9364, 7328, 2513, 8020, 2361, 4915, 5346, 7410, 2379, 5538, 7560, 9431, 1049, 9069, 9616, 9368, 3998, 3240,
      8006,
      3177, 4380, 794, 8668, 4685, 3456, 2257, 2645, 7269, 2424, 5209, 4198, 3086, 6821, 7598, 3764, 7505, 6191,
      9018,
      7019, 338, 5606, 1484, 1962, 1415, 8423, 6988, 9140, 8305, 6196, 2299, 3397, 8634, 3855, 2139, 4924, 7102,
      4662,
      6713, 1056, 5418, 5982, 940, 3149, 9245, 637, 8873, 7651, 2975, 6447, 5539, 291, 9119, 7773, 9287, 4286,
      858, 9111,
      5012, 9499, 1595, 4408, 918, 5742, 5134, 9475, 8427, 9556, 8422, 4825, 9747, 522, 266, 9267, 7351, 5413,
      7374,
      8556, 8014, 6194, 6076, 3011, 1612, 217, 6101, 7673, 5623, 6757, 5038, 2615, 3711, 8296, 7453, 408, 868,
      4090,
      1038, 6549, 7307, 7886, 3571, 6450, 1947, 5236, 8943, 5827, 1325, 1278, 9292, 1930, 7778, 6039, 3935, 623,
      7886,
      256, 1194, 833, 4219, 3641, 1047, 2543, 4442, 9242, 150, 8148, 1460, 9650, 5882, 9647, 431, 7709, 714,
      6345, 6104,
      3240, 6151, 6310, 7220, 216, 6452, 3271, 3368, 1247, 7870, 8492, 2124, 1932, 3524, 5515, 2911, 8798, 7242,
      1019,
      8154, 3942, 5654, 5994, 8323, 449, 1914, 5680, 2821, 8399, 1904, 6356, 8538, 298, 7418, 2339, 1672, 2948,
      584,
      4877, 2702, 36, 8044, 1528, 3815, 799, 8865, 7043, 5846, 3204, 4238, 3012, 2060, 8169, 9422, 8049, 8871,
      1517, 819,
      6066, 4821, 7262, 6131, 9774, 9210, 9683, 338, 3573, 3812, 4398, 5022, 1313, 9705, 792, 3644, 3397, 529,
      8340,
      2683, 524, 5635, 6653, 9852, 8619, 39, 6060, 4273, 3026, 7680, 6861, 4470, 8, 4094, 4720, 388, 9344, 7749,
      394,
      3603, 8406, 8713, 9328, 4423, 3074, 9966, 694, 4094, 3627, 6926, 3558, 4322, 1720, 3814, 7277, 5770, 7077,
      9871,
      7872, 4016, 1196, 7425, 8843, 8631, 2500, 142, 991, 9472, 1603, 7433, 2955, 5213, 3083, 9960, 3993, 8940,
      2675,
      5442, 8308, 6653, 2105, 4640, 2020, 8924, 8918, 2949, 4949, 5442, 9580, 2811, 5205, 7078, 9779, 5049, 4455,
      3420,
      5586, 6315, 1629, 101, 5384, 4917, 7629, 2731, 8121, 2852, 9260, 8445, 2896, 8075, 4667, 2164, 7085, 3616,
      3177,
      9104, 5318, 8728, 2332, 3943, 2388, 4352, 8537, 199, 1655, 3881, 7058, 3912, 7027, 5721, 9737, 6031, 3265,
      2699,
      8285, 7835], 314)
]


# T=nÂ³
def main(nums, k):
    n, res = len(nums), 0
    for i in range(k + 1):
        for j in range(k, n):
            res = max(res, min(nums[i:j + 1]) * (j - i + 1))
    return res


for nums, k in inputs:
    print(main(nums, k), end=' ')

print()


# T=n,S=n
# left[i] = index of first smaller element on left of nums[i]
# right[i] = index of first smaller element on right of nums[i]
def main(nums, k):
    n = len(nums)
    stack, left = [], [-1] * n
    for i in range(n):
        while stack and nums[stack[-1]] >= nums[i]:
            stack.pop()
        left[i] = stack[-1] if stack else -1
        stack.append(i)
    stack, right = [], [n] * n
    for i in range(n):
        while stack and nums[stack[-1]] > nums[i]:
            right[stack.pop()] = i
        stack.append(i)
    res = 0
    for i in range(n):
        if left[i] < k < right[i]:
            width = right[i] - left[i] - 1
            res = max(res, nums[i] * width)
    return res


for nums, k in inputs:
    print(main(nums, k), end=' ')

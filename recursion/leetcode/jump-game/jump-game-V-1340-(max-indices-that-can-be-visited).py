def nbrs(i, nums, d, n):
    nbrs = []
    for val in range(1, d + 1):
        if i + val > n - 1 or nums[i + val] >= nums[i]:
            break
        nbrs.append(i + val)
    for val in range(1, d + 1):
        if i - val < 0 or nums[i - val] >= nums[i]:
            break
        nbrs.append(i - val)
    return nbrs


# T=nd,S=n
def x(nums, d):
    dp, n = {}, len(nums)

    def dfs(i):
        if i in dp:
            return dp[i]
        dp[i] = 1
        for nbr in nbrs(i, nums, d, n):
            dp[i] = max(dp[i], 1 + dfs(nbr))
        return dp[i]

    return max(dfs(i) for i in range(n))


for nums, d in [
    ([6, 4, 14, 6, 8, 13, 9, 7, 10, 6, 12], 2),
    ([3, 3, 3, 3, 3], 3),
    ([7, 6, 5, 4, 3, 2, 1], 1),
    ([7, 1, 7, 1, 7, 1], 2),
    ([66], 1),
    (
            [81, 4, 48, 6, 58, 30, 69, 18, 22, 20, 38, 59, 10, 65, 58, 90, 56, 44, 22, 96, 74, 5, 94, 97, 20, 50, 14, 3,
             46, 42, 90, 85, 36, 93, 25, 61, 89, 67, 56, 81, 96, 92, 14, 78, 62, 98, 68, 6, 37, 78, 94, 91, 61, 70, 23,
             30, 5, 95, 98, 12, 38, 6, 99, 24, 18, 33, 50, 43, 70, 13, 34, 70, 46, 71, 27, 85, 28, 9, 32, 52, 63, 58, 7,
             11, 97, 62, 91, 16, 30, 5, 8, 32, 75, 76, 81, 78, 43, 55, 45, 71, 22, 24, 28, 57, 60, 7, 2, 32, 93, 7, 19,
             11, 68, 5, 83, 17, 40, 99, 7, 47, 73, 73, 9, 93, 30, 56, 59, 46, 33, 52, 70, 23, 45, 59, 18, 23, 57, 88,
             75, 79, 75, 31, 92, 85, 10, 60, 82, 18, 95, 90, 8, 77, 20, 9, 32, 76, 51, 21, 48, 79, 15, 49, 60, 10, 93,
             79, 60, 96, 13, 35, 91, 11, 68, 75, 62, 71, 34, 72, 3, 25, 66, 78, 53, 55, 84, 88, 84, 56, 68, 94, 16, 40,
             9, 48, 39, 15, 64, 45, 14, 63, 83, 18, 82, 73, 82, 68, 14, 20, 91, 85, 20, 16, 42, 64, 70, 62, 36, 72, 89,
             75, 91, 46, 64, 18, 57, 22, 40, 49, 53, 2, 43, 35, 48, 2, 21, 69, 32, 98, 96, 90, 19, 1, 91, 43, 65, 95,
             51, 81, 36, 6, 90, 12, 96, 82, 47, 72, 35, 43, 2, 96, 82, 94, 58, 54, 94, 96, 88, 43, 37, 44, 65, 100, 25,
             73, 4, 100, 33, 4, 100, 71, 59, 23, 79, 62],
            246)
]:
    print(x(nums, d))
